import React from 'react';
import { Grid, Paper, Typography, Box } from '@mui/material';
import { BarChart } from '@mui/x-charts/BarChart';
import { PieChart } from '@mui/x-charts/PieChart';
import { LineChart } from '@mui/x-charts/LineChart';

function VulnerabilityCharts() {
	// Vulnerability severity distribution data
	const severityData = [
		{ label: 'Critical', value: 5, color: '#d32f2f' },
		{ label: 'High', value: 12, color: '#ff9800' },
		{ label: 'Medium', value: 23, color: '#2196f3' },
		{ label: 'Low', value: 34, color: '#4caf50' },
	];

	// Monthly vulnerability trends
	const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
	const vulnerabilityTrends = [
		{ month: 'Jan', discovered: 45, resolved: 42, remaining: 3 },
		{ month: 'Feb', discovered: 38, resolved: 40, remaining: 1 },
		{ month: 'Mar', discovered: 52, resolved: 48, remaining: 5 },
		{ month: 'Apr', discovered: 34, resolved: 45, remaining: -6 },
		{ month: 'May', discovered: 41, resolved: 39, remaining: 4 },
		{ month: 'Jun', discovered: 29, resolved: 35, remaining: -3 },
	];

	// Vulnerability by asset type
	const assetTypes = ['Web Apps', 'Databases', 'Servers', 'Networks', 'Cloud'];
	const assetVulnerabilities = [18, 12, 15, 8, 21];

	// CVSS score distribution over time
	const cvssData = [
		{ month: 'Jan', score: 7.2 },
		{ month: 'Feb', score: 6.8 },
		{ month: 'Mar', score: 7.5 },
		{ month: 'Apr', score: 6.9 },
		{ month: 'May', score: 7.1 },
		{ month: 'Jun', score: 6.6 },
	];

	return (
		<Grid container spacing={3}>
			{/* Vulnerability Severity Distribution */}
			<Grid size={{ xs: 12, md: 6 }}>
				<Paper sx={{ p: 3, height: '400px' }}>
					<Typography variant='h6' gutterBottom>
						Vulnerability Severity Distribution
					</Typography>
					<Box
						sx={{ height: '320px', display: 'flex', justifyContent: 'center' }}
					>
						<PieChart
							series={[
								{
									data: severityData,
									//   highlightScope: { faded: 'global', highlighted: 'item' },
									faded: { innerRadius: 30, additionalRadius: -30 },
								},
							]}
							// width={350}
							// height={300}
						/>
					</Box>
				</Paper>
			</Grid>

			{/* Vulnerability Trends */}
			<Grid size={{ xs: 12, md: 6 }}>
				<Paper sx={{ p: 3, height: '400px' }}>
					<Typography variant='h6' gutterBottom>
						Monthly Vulnerability Trends
					</Typography>
					<Box sx={{ height: '320px' }}>
						<BarChart
							xAxis={[{ scaleType: 'band', data: months }]}
							series={[
								{
									data: vulnerabilityTrends.map((v) => v.discovered),
									label: 'Discovered',
									color: '#ff9800',
								},
								{
									data: vulnerabilityTrends.map((v) => v.resolved),
									label: 'Resolved',
									color: '#4caf50',
								},
							]}
							// width={400}
							// height={300}
						/>
					</Box>
				</Paper>
			</Grid>

			{/* Vulnerabilities by Asset Type */}
			<Grid size={{ xs: 12, md: 6 }}>
				<Paper sx={{ p: 3, height: '400px' }}>
					<Typography variant='h6' gutterBottom>
						Vulnerabilities by Asset Type
					</Typography>
					<Box sx={{ height: '320px' }}>
						<BarChart
							xAxis={[{ scaleType: 'band', data: assetTypes }]}
							series={[
								{
									data: assetVulnerabilities,
									label: 'Vulnerabilities',
									color: '#2196f3',
								},
							]}
							// width={400}
							// height={300}
						/>
					</Box>
				</Paper>
			</Grid>

			{/* CVSS Score Trend */}
			<Grid size={{ xs: 12, md: 6 }}>
				<Paper sx={{ p: 3, height: '400px' }}>
					<Typography variant='h6' gutterBottom>
						Average CVSS Score Trend
					</Typography>
					<Box sx={{ height: '320px' }}>
						<LineChart
							xAxis={[{ scaleType: 'band', data: months }]}
							series={[
								{
									data: cvssData.map((c) => c.score),
									label: 'CVSS Score',
									color: '#d32f2f',
									curve: 'natural',
								},
							]}
							// width={400}
							// height={300}
						/>
					</Box>
				</Paper>
			</Grid>
		</Grid>
	);
}

export default VulnerabilityCharts;
